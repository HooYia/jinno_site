{% load static %}
{% load i18n %}
{% load l10n %}

<style>
.icon {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 50px; /* Adjust to match flaticon size */
    height: 50px;
    margin: 0 auto; /* Center if not using flex */
}

.icon img {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Maintain aspect ratio */
    max-width: 40px; /* Prevent oversized images */
    max-height: 40px;
}

.icon .flaticon-architect::before {
    font-size: 40px; /* Ensure flaticon matches image size */
    line-height: 50px; /* Center vertically */
}
</style>

<section class="ftco-section bg-half-light">
    <div class="container">
        <div class="row justify-content-center mb-5 pb-2">
            <div class="col-md-8 text-center heading-section ftco-animate">
                <span class="subheading">{% trans "Our Services" %}</span>
                <h2 class="mb-4">{% trans "We Offer Services" %}</h2>
            </div>
        </div>
        <div class="row">
            {% for service in services %}
                <div class="col-md-4">
                    <div class="services-wrap ftco-animate">
                        <div class="img" style="background-image: url('{% if service.image %}{{ service.image.url }}{% else %}{% static 'images/jinoo_bookkeeping_1.jpg' %}{% endif %}');"></div>
                        <div class="text">
                            <div class="icon">
                                <span>
                                    {% if service.icon %}
                                        <img src="{{ service.icon.url }}" alt="{{ service.title|default:'Service' }}" class="service-icon">
                                    {% else %}
                                        <span class="flaticon-architect"></span>
                                    {% endif %}
                                </span>
                            </div>
                            <h2>{{ service.title|default:"Bookkeeping" }}</h2>
                            <p>{{ service.short_description|default:"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia" }}</p>
                            <a href="#" class="btn-custom" data-toggle="modal" data-target="#serviceModal{{ forloop.counter }}">{% trans "Read more" %}</a>
                        </div>
                    </div>
                </div>
            {% empty %}
                <div class="col-md-4">
                    <div class="services-wrap ftco-animate">
                        <div class="img" style="background-image: url({% static 'images/jinoo_bookkeeping_1.jpg' %});"></div>
                        <div class="text">
                            <div class="icon"><span class="flaticon-architect"></span></div>
                            <h2>{% trans "Bookkeeping" %}</h2>
                            <p>{% trans "Far far away, behind the word mountains, far from the countries Vokalia and Consonantia" %}</p>
                            <a href="#" class="btn-custom" data-toggle="modal" data-target="#serviceModal1">{% trans "Read more" %}</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="services-wrap ftco-animate">
                        <div class="img" style="background-image: url({% static 'images/jinoo_bg_1.jpg' %});"></div>
                        <div class="text">
                            <div class="icon"><span class="flaticon-worker"></span></div>
                            <h2>{% trans "Accounting" %}</h2>
                            <p>{% trans "Far far away, behind the word mountains, far from the countries Vokalia and Consonantia" %}</p>
                            <a href="#" class="btn-custom" data-toggle="modal" data-target="#serviceModal2">{% trans "Read more" %}</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="services-wrap ftco-animate">
                        <div class="img" style="background-image: url({% static 'images/jinoo_tax_1.jpg' %});"></div>
                        <div class="text">
                            <div class="icon"><span class="flaticon-hammer"></span></div>
                            <h2>{% trans "Taxation" %}</h2>
                            <p>{% trans "Far far away, behind the word mountains, far from the countries Vokalia and Consonantia" %}</p>
                            <a href="#" class="btn-custom" data-toggle="modal" data-target="#serviceModal3">{% trans "Read more" %}</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>

<section class="ftco-section ftco-no-pt ftco-no-pb ftco-counter">
    <div class="img image-overlay" style="background-image: url('{% if services_two.card_image %}{{ services_two.card_image.url }}{% else %}{% static 'images/about-3.jpg' %}{% endif %}');"></div>
    <div class="container">
        <div class="row no-gutters">
            <div class="col-md-6 py-5 bg-secondary aside-stretch">
                <div class="heading-section heading-section-white p-4 pl-md-0 py-md-5 pr-md-5">
                    <span class="subheading">{% blocktrans with company_name=site_settings.company_name|default:"Jinoo Inc" %}{{ services_two.title|default:company_name }} A Services Company{% endblocktrans %}</span>
                    <h2 class="mb-4">{{ services_two.short_description|default:"Best Provider for personal and business Services" }}</h2>
                    <h4>{{ services_two.description|default:"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts." }}</h4>
                    <p>{{ services_two.description|default:"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean" }}</p>
                </div>
            </div>
            <div class="col-md-6 d-flex align-items-center">
                <div class="row">
                    <div class="col-md-12 d-flex counter-wrap ftco-animate">
                        <div class="block-18 bg-primary d-flex align-items-center justify-content-between">
                            <div class="icon d-flex align-items-center justify-content-center"><span class="flaticon-engineer"></span></div>
                            <div class="text">
                                <strong class="number" data-number="{% if services_two.projects_completed %}{{ services_two.projects_completed }}{% else %}48{% endif %}">0</strong>
                                <span>{% trans "Project Completed" %}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 d-flex counter-wrap ftco-animate">
                        <div class="block-18 d-flex align-items-center justify-content-between">
                            <div class="icon d-flex align-items-center justify-content-center"><span class="flaticon-worker-1"></span></div>
                            <div class="text">
                                <strong class="number" data-number="{% if services_two.happy_customers %}{{ services_two.happy_customers }}{% else %}12{% endif %}">0</strong>
                                <span>{% trans "Happy Customers" %}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Modals for Service Descriptions -->
{% for service in services %}
<div class="modal fade" id="serviceModal{{ forloop.counter }}" tabindex="-1" role="dialog" aria-labelledby="serviceModal{{ forloop.counter }}Label" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="serviceModal{{ forloop.counter }}Label">{{ service.title|default:"Service" }}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                {{ service.description|default:"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts." }}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">{% trans "Close" %}</button>
            </div>
        </div>
    </div>
</div>
{% empty %}
<div class="modal fade" id="serviceModal1" tabindex="-1" role="dialog" aria-labelledby="serviceModal1Label" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="serviceModal1Label">{% trans "Bookkeeping" %}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                {% trans "Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts." %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">{% trans "Close" %}</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="serviceModal2" tabindex="-1" role="dialog" aria-labelledby="serviceModal2Label" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="serviceModal2Label">{% trans "Accounting" %}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                {% trans "Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts." %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">{% trans "Close" %}</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="serviceModal3" tabindex="-1" role="dialog" aria-labelledby="serviceModal3Label" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="serviceModal3Label">{% trans "Taxation" %}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                {% trans "Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts." %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">{% trans "Close" %}</button>
            </div>
        </div>
    </div>
</div>
{% endfor %}